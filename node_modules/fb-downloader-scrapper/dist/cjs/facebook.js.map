{
  "version": 3,
  "sources": ["../esm/facebook.js"],
  "sourcesContent": ["import axios from \"axios\";\nexport async function getFbVideoInfo(videoUrl, cookie, useragent) {\n    return new Promise((resolve, reject) => {\n        const headers = {\n            \"sec-fetch-user\": \"?1\",\n            \"sec-ch-ua-mobile\": \"?0\",\n            \"sec-fetch-site\": \"none\",\n            \"sec-fetch-dest\": \"document\",\n            \"sec-fetch-mode\": \"navigate\",\n            \"cache-control\": \"max-age=0\",\n            authority: \"www.facebook.com\",\n            \"upgrade-insecure-requests\": \"1\",\n            \"accept-language\": \"en-GB,en;q=0.9,tr-TR;q=0.8,tr;q=0.7,en-US;q=0.6\",\n            \"sec-ch-ua\": '\"Google Chrome\";v=\"89\", \"Chromium\";v=\"89\", \";Not A Brand\";v=\"99\"',\n            \"user-agent\": useragent || \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.114 Safari/537.36\",\n            accept: \"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9\",\n            cookie: cookie || \"sb=Rn8BYQvCEb2fpMQZjsd6L382; datr=Rn8BYbyhXgw9RlOvmsosmVNT; c_user=100003164630629; _fbp=fb.1.1629876126997.444699739; wd=1920x939; spin=r.1004812505_b.trunk_t.1638730393_s.1_v.2_; xs=28%3A8ROnP0aeVF8XcQ%3A2%3A1627488145%3A-1%3A4916%3A%3AAcWIuSjPy2mlTPuZAeA2wWzHzEDuumXI89jH8a_QIV8; fr=0jQw7hcrFdas2ZeyT.AWVpRNl_4noCEs_hb8kaZahs-jA.BhrQqa.3E.AAA.0.0.BhrQqa.AWUu879ZtCw\",\n        };\n        const parseString = (string) => JSON.parse(`{\"text\": \"${string}\"}`).text;\n        if (!videoUrl || !videoUrl.trim())\n            return reject(\"Please specify the Facebook URL\");\n        if ([\"facebook.com\", \"fb.watch\"].every((domain) => !videoUrl.includes(domain)))\n            return reject(\"Please enter the valid Facebook URL\");\n        axios.get(videoUrl, { headers }).then(({ data }) => {\n            var _a, _b;\n            data = data.replace(/&quot;/g, '\"').replace(/&amp;/g, \"&\");\n            const sdMatch = data.match(/\"browser_native_sd_url\":\"(.*?)\"/) || data.match(/\"playable_url\":\"(.*?)\"/) || data.match(/sd_src\\s*:\\s*\"([^\"]*)\"/) || data.match(/(?<=\"src\":\")[^\"]*(https:\\/\\/[^\"]*)/);\n            const hdMatch = data.match(/\"browser_native_hd_url\":\"(.*?)\"/) || data.match(/\"playable_url_quality_hd\":\"(.*?)\"/) || data.match(/hd_src\\s*:\\s*\"([^\"]*)\"/);\n            const titleMatch = data.match(/<meta\\sname=\"description\"\\scontent=\"(.*?)\"/);\n            const thumbMatch = data.match(/\"preferred_thumbnail\":{\"image\":{\"uri\":\"(.*?)\"/);\n            var duration = data.match(/\"playable_duration_in_ms\":[0-9]+/gm);\n            if (sdMatch && sdMatch[1]) {\n                const result = {\n                    url: videoUrl,\n                    duration_ms: Number(duration[0].split(\":\")[1]),\n                    sd: parseString(sdMatch[1]),\n                    hd: hdMatch && hdMatch[1] ? parseString(hdMatch[1]) : \"\",\n                    title: titleMatch && titleMatch[1] ? parseString(titleMatch[1]) : (_b = (_a = data.match(/<title>(.*?)<\\/title>/)) === null || _a === void 0 ? void 0 : _a[1]) !== null && _b !== void 0 ? _b : \"\",\n                    thumbnail: thumbMatch && thumbMatch[1] ? parseString(thumbMatch[1]) : \"\"\n                };\n                resolve(result);\n            }\n            else {\n                reject(\"Unable to fetch video information at this time. Please try again\");\n            }\n        }).catch((err) => {\n            reject(`Unable to fetch video information. Axios Error : ${err.code} - ${err.cause}`);\n        });\n    });\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAkB;AAClB,eAAsB,eAAe,UAAU,QAAQ,WAAW;AAC9D,SAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACpC,UAAM,UAAU;AAAA,MACZ,kBAAkB;AAAA,MAClB,oBAAoB;AAAA,MACpB,kBAAkB;AAAA,MAClB,kBAAkB;AAAA,MAClB,kBAAkB;AAAA,MAClB,iBAAiB;AAAA,MACjB,WAAW;AAAA,MACX,6BAA6B;AAAA,MAC7B,mBAAmB;AAAA,MACnB,aAAa;AAAA,MACb,cAAc,aAAa;AAAA,MAC3B,QAAQ;AAAA,MACR,QAAQ,UAAU;AAAA,IACtB;AACA,UAAM,cAAc,wBAAC,WAAW,KAAK,MAAM,aAAa,MAAM,IAAI,EAAE,MAAhD;AACpB,QAAI,CAAC,YAAY,CAAC,SAAS,KAAK;AAC5B,aAAO,OAAO,iCAAiC;AACnD,QAAI,CAAC,gBAAgB,UAAU,EAAE,MAAM,CAAC,WAAW,CAAC,SAAS,SAAS,MAAM,CAAC;AACzE,aAAO,OAAO,qCAAqC;AACvD,iBAAAA,QAAM,IAAI,UAAU,EAAE,QAAQ,CAAC,EAAE,KAAK,CAAC,EAAE,KAAK,MAAM;AAChD,UAAI,IAAI;AACR,aAAO,KAAK,QAAQ,WAAW,GAAG,EAAE,QAAQ,UAAU,GAAG;AACzD,YAAM,UAAU,KAAK,MAAM,iCAAiC,KAAK,KAAK,MAAM,wBAAwB,KAAK,KAAK,MAAM,wBAAwB,KAAK,KAAK,MAAM,oCAAoC;AAChM,YAAM,UAAU,KAAK,MAAM,iCAAiC,KAAK,KAAK,MAAM,mCAAmC,KAAK,KAAK,MAAM,wBAAwB;AACvJ,YAAM,aAAa,KAAK,MAAM,4CAA4C;AAC1E,YAAM,aAAa,KAAK,MAAM,+CAA+C;AAC7E,UAAI,WAAW,KAAK,MAAM,oCAAoC;AAC9D,UAAI,WAAW,QAAQ,CAAC,GAAG;AACvB,cAAM,SAAS;AAAA,UACX,KAAK;AAAA,UACL,aAAa,OAAO,SAAS,CAAC,EAAE,MAAM,GAAG,EAAE,CAAC,CAAC;AAAA,UAC7C,IAAI,YAAY,QAAQ,CAAC,CAAC;AAAA,UAC1B,IAAI,WAAW,QAAQ,CAAC,IAAI,YAAY,QAAQ,CAAC,CAAC,IAAI;AAAA,UACtD,OAAO,cAAc,WAAW,CAAC,IAAI,YAAY,WAAW,CAAC,CAAC,KAAK,MAAM,KAAK,KAAK,MAAM,uBAAuB,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,CAAC,OAAO,QAAQ,OAAO,SAAS,KAAK;AAAA,UAChM,WAAW,cAAc,WAAW,CAAC,IAAI,YAAY,WAAW,CAAC,CAAC,IAAI;AAAA,QAC1E;AACA,gBAAQ,MAAM;AAAA,MAClB,OACK;AACD,eAAO,kEAAkE;AAAA,MAC7E;AAAA,IACJ,CAAC,EAAE,MAAM,CAAC,QAAQ;AACd,aAAO,oDAAoD,IAAI,IAAI,MAAM,IAAI,KAAK,EAAE;AAAA,IACxF,CAAC;AAAA,EACL,CAAC;AACL;AAhDsB;",
  "names": ["axios"]
}
